{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class ChatService {\n  constructor() {\n    this.currentUser = {\n      id: 'user-1',\n      name: 'You',\n      avatar: 'https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    };\n    this.users = [this.currentUser, {\n      id: 'user-2',\n      name: 'Alice Johnson',\n      avatar: 'https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    }, {\n      id: 'user-3',\n      name: 'Bob Smith',\n      avatar: 'https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'away'\n    }, {\n      id: 'user-4',\n      name: 'Carol Davis',\n      avatar: 'https://images.pexels.com/photos/1239288/pexels-photo-1239288.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'offline',\n      lastSeen: new Date(Date.now() - 3600000)\n    }, {\n      id: 'user-5',\n      name: 'David Wilson',\n      avatar: 'https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    }, {\n      id: 'user-6',\n      name: 'Emma Brown',\n      avatar: 'https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    }];\n    this.chatRooms = [{\n      id: 'room-1',\n      name: 'Alice Johnson',\n      type: 'direct',\n      participants: [this.currentUser, this.users[1]],\n      messages: [{\n        id: 'msg-1',\n        senderId: 'user-2',\n        content: 'Hey! How are you doing today?',\n        timestamp: new Date(Date.now() - 3600000),\n        type: 'text'\n      }, {\n        id: 'msg-2',\n        senderId: 'user-1',\n        content: 'I\\'m doing great! Just working on some new projects. How about you?',\n        timestamp: new Date(Date.now() - 3500000),\n        type: 'text'\n      }, {\n        id: 'msg-3',\n        senderId: 'user-2',\n        content: 'That sounds exciting! I\\'d love to hear more about your projects.',\n        timestamp: new Date(Date.now() - 3400000),\n        type: 'text'\n      }, {\n        id: 'msg-4',\n        senderId: 'user-1',\n        content: 'Sure! I\\'m building a new chat application with Angular. It\\'s been really fun to work on.',\n        timestamp: new Date(Date.now() - 3300000),\n        type: 'text'\n      }, {\n        id: 'msg-5',\n        senderId: 'user-2',\n        content: 'Wow, that\\'s amazing! Angular is such a powerful framework. Are you using any specific UI libraries?',\n        timestamp: new Date(Date.now() - 1800000),\n        type: 'text'\n      }],\n      unreadCount: 1\n    }, {\n      id: 'room-2',\n      name: 'Development Team',\n      type: 'group',\n      avatar: 'https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      participants: [this.currentUser, this.users[1], this.users[2], this.users[4]],\n      messages: [{\n        id: 'msg-6',\n        senderId: 'user-2',\n        content: 'Good morning team! Ready for today\\'s sprint planning?',\n        timestamp: new Date(Date.now() - 7200000),\n        type: 'text'\n      }, {\n        id: 'msg-7',\n        senderId: 'user-3',\n        content: 'Absolutely! I\\'ve prepared the user stories for review.',\n        timestamp: new Date(Date.now() - 7100000),\n        type: 'text'\n      }, {\n        id: 'msg-8',\n        senderId: 'user-5',\n        content: 'Great! I\\'ll share the technical requirements document in a few minutes.',\n        timestamp: new Date(Date.now() - 7000000),\n        type: 'text'\n      }, {\n        id: 'msg-9',\n        senderId: 'user-1',\n        content: 'Perfect timing! I just finished the mockups for the new features.',\n        timestamp: new Date(Date.now() - 6900000),\n        type: 'text'\n      }],\n      unreadCount: 0\n    }, {\n      id: 'room-3',\n      name: 'Bob Smith',\n      type: 'direct',\n      participants: [this.currentUser, this.users[2]],\n      messages: [{\n        id: 'msg-10',\n        senderId: 'user-3',\n        content: 'Hey, do you have a moment to discuss the API integration?',\n        timestamp: new Date(Date.now() - 5400000),\n        type: 'text'\n      }, {\n        id: 'msg-11',\n        senderId: 'user-1',\n        content: 'Of course! What specific part are you working on?',\n        timestamp: new Date(Date.now() - 5300000),\n        type: 'text'\n      }, {\n        id: 'msg-12',\n        senderId: 'user-3',\n        content: 'I\\'m having some issues with the authentication flow. The tokens seem to expire too quickly.',\n        timestamp: new Date(Date.now() - 5200000),\n        type: 'text'\n      }],\n      unreadCount: 0\n    }, {\n      id: 'room-4',\n      name: 'Design Team',\n      type: 'group',\n      avatar: 'https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      participants: [this.currentUser, this.users[3], this.users[5]],\n      messages: [{\n        id: 'msg-13',\n        senderId: 'user-4',\n        content: 'I love the new color scheme we decided on!',\n        timestamp: new Date(Date.now() - 4800000),\n        type: 'text'\n      }, {\n        id: 'msg-14',\n        senderId: 'user-6',\n        content: 'Yes! The gradient backgrounds really make the interface pop.',\n        timestamp: new Date(Date.now() - 4700000),\n        type: 'text'\n      }, {\n        id: 'msg-15',\n        senderId: 'user-1',\n        content: 'I agree! The user feedback has been overwhelmingly positive.',\n        timestamp: new Date(Date.now() - 4600000),\n        type: 'text'\n      }],\n      unreadCount: 2\n    }, {\n      id: 'room-5',\n      name: 'Emma Brown',\n      type: 'direct',\n      participants: [this.currentUser, this.users[5]],\n      messages: [{\n        id: 'msg-16',\n        senderId: 'user-6',\n        content: 'Thanks for helping me with the CSS animations yesterday!',\n        timestamp: new Date(Date.now() - 2400000),\n        type: 'text'\n      }, {\n        id: 'msg-17',\n        senderId: 'user-1',\n        content: 'You\\'re welcome! The final result looks fantastic.',\n        timestamp: new Date(Date.now() - 2300000),\n        type: 'text'\n      }, {\n        id: 'msg-18',\n        senderId: 'user-6',\n        content: 'I learned so much about keyframes and transitions. Can\\'t wait to apply this knowledge to more projects!',\n        timestamp: new Date(Date.now() - 900000),\n        type: 'text'\n      }],\n      unreadCount: 0\n    }];\n    this.chatRoomsSubject = new BehaviorSubject(this.chatRooms);\n    this.activeRoomSubject = new BehaviorSubject(this.chatRooms[0]);\n    this.typingIndicatorSubject = new BehaviorSubject([]);\n    // Update last messages for each room\n    this.updateLastMessages();\n  }\n  getChatRooms() {\n    return this.chatRoomsSubject.asObservable();\n  }\n  getActiveRoom() {\n    return this.activeRoomSubject.asObservable();\n  }\n  getTypingIndicators() {\n    return this.typingIndicatorSubject.asObservable();\n  }\n  getCurrentUser() {\n    return this.currentUser;\n  }\n  setActiveRoom(roomId) {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (room) {\n      // Mark messages as read\n      room.unreadCount = 0;\n      this.activeRoomSubject.next(room);\n      this.chatRoomsSubject.next([...this.chatRooms]);\n    }\n  }\n  sendMessage(roomId, content) {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (room && content.trim()) {\n      const newMessage = {\n        id: `msg-${Date.now()}`,\n        senderId: this.currentUser.id,\n        content: content.trim(),\n        timestamp: new Date(),\n        type: 'text'\n      };\n      room.messages.push(newMessage);\n      room.lastMessage = newMessage;\n      // Simulate response from other users (randomly)\n      if (Math.random() > 0.3) {\n        setTimeout(() => {\n          this.simulateResponse(roomId);\n        }, 1000 + Math.random() * 3000);\n      }\n      this.chatRoomsSubject.next([...this.chatRooms]);\n      this.activeRoomSubject.next(room);\n    }\n  }\n  simulateResponse(roomId) {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (!room) return;\n    const otherParticipants = room.participants.filter(p => p.id !== this.currentUser.id);\n    if (otherParticipants.length === 0) return;\n    const randomParticipant = otherParticipants[Math.floor(Math.random() * otherParticipants.length)];\n    const responses = [\"That's interesting!\", \"I see what you mean.\", \"Thanks for sharing that.\", \"Good point!\", \"I agree with you.\", \"Let me think about that.\", \"That makes sense.\", \"I'll look into it.\", \"Great idea!\", \"Sounds good to me.\"];\n    const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n    const responseMessage = {\n      id: `msg-${Date.now()}-response`,\n      senderId: randomParticipant.id,\n      content: randomResponse,\n      timestamp: new Date(),\n      type: 'text'\n    };\n    room.messages.push(responseMessage);\n    room.lastMessage = responseMessage;\n    // Add unread count if not in active room\n    const activeRoom = this.activeRoomSubject.value;\n    if (!activeRoom || activeRoom.id !== roomId) {\n      room.unreadCount++;\n    }\n    this.chatRoomsSubject.next([...this.chatRooms]);\n    // Update active room if it's the same room\n    if (activeRoom && activeRoom.id === roomId) {\n      this.activeRoomSubject.next(room);\n    }\n  }\n  updateLastMessages() {\n    this.chatRooms.forEach(room => {\n      if (room.messages.length > 0) {\n        room.lastMessage = room.messages[room.messages.length - 1];\n      }\n    });\n  }\n  getUserById(userId) {\n    return this.users.find(user => user.id === userId);\n  }\n  startTyping(roomId) {\n    // Simulate typing indicator (in a real app, this would be sent to other users)\n    const indicators = this.typingIndicatorSubject.value;\n    const existingIndicator = indicators.find(i => i.roomId === roomId && i.userId === this.currentUser.id);\n    if (!existingIndicator) {\n      const newIndicator = {\n        roomId,\n        userId: this.currentUser.id,\n        userName: this.currentUser.name\n      };\n      this.typingIndicatorSubject.next([...indicators, newIndicator]);\n    }\n  }\n  stopTyping(roomId) {\n    const indicators = this.typingIndicatorSubject.value;\n    const filteredIndicators = indicators.filter(i => !(i.roomId === roomId && i.userId === this.currentUser.id));\n    this.typingIndicatorSubject.next(filteredIndicators);\n  }\n  static {\n    this.ɵfac = function ChatService_Factory(t) {\n      return new (t || ChatService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ChatService,\n      factory: ChatService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","ChatService","constructor","currentUser","id","name","avatar","status","users","lastSeen","Date","now","chatRooms","type","participants","messages","senderId","content","timestamp","unreadCount","chatRoomsSubject","activeRoomSubject","typingIndicatorSubject","updateLastMessages","getChatRooms","asObservable","getActiveRoom","getTypingIndicators","getCurrentUser","setActiveRoom","roomId","room","find","r","next","sendMessage","trim","newMessage","push","lastMessage","Math","random","setTimeout","simulateResponse","otherParticipants","filter","p","length","randomParticipant","floor","responses","randomResponse","responseMessage","activeRoom","value","forEach","getUserById","userId","user","startTyping","indicators","existingIndicator","i","newIndicator","userName","stopTyping","filteredIndicators","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Purvesh\\Downloads\\project-bolt-sb1-5grbemnl\\project\\src\\app\\services\\chat.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ChatRoom, Message, User, TypingIndicator } from '../models/chat.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChatService {\n  private currentUser: User = {\n    id: 'user-1',\n    name: 'You',\n    avatar: 'https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n    status: 'online'\n  };\n\n  private users: User[] = [\n    this.currentUser,\n    {\n      id: 'user-2',\n      name: 'Alice Johnson',\n      avatar: 'https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    },\n    {\n      id: 'user-3',\n      name: 'Bob Smith',\n      avatar: 'https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'away'\n    },\n    {\n      id: 'user-4',\n      name: 'Carol Davis',\n      avatar: 'https://images.pexels.com/photos/1239288/pexels-photo-1239288.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'offline',\n      lastSeen: new Date(Date.now() - 3600000)\n    },\n    {\n      id: 'user-5',\n      name: 'David Wilson',\n      avatar: 'https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    },\n    {\n      id: 'user-6',\n      name: 'Emma Brown',\n      avatar: 'https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      status: 'online'\n    }\n  ];\n\n  private chatRooms: ChatRoom[] = [\n    {\n      id: 'room-1',\n      name: 'Alice Johnson',\n      type: 'direct',\n      participants: [this.currentUser, this.users[1]],\n      messages: [\n        {\n          id: 'msg-1',\n          senderId: 'user-2',\n          content: 'Hey! How are you doing today?',\n          timestamp: new Date(Date.now() - 3600000),\n          type: 'text'\n        },\n        {\n          id: 'msg-2',\n          senderId: 'user-1',\n          content: 'I\\'m doing great! Just working on some new projects. How about you?',\n          timestamp: new Date(Date.now() - 3500000),\n          type: 'text'\n        },\n        {\n          id: 'msg-3',\n          senderId: 'user-2',\n          content: 'That sounds exciting! I\\'d love to hear more about your projects.',\n          timestamp: new Date(Date.now() - 3400000),\n          type: 'text'\n        },\n        {\n          id: 'msg-4',\n          senderId: 'user-1',\n          content: 'Sure! I\\'m building a new chat application with Angular. It\\'s been really fun to work on.',\n          timestamp: new Date(Date.now() - 3300000),\n          type: 'text'\n        },\n        {\n          id: 'msg-5',\n          senderId: 'user-2',\n          content: 'Wow, that\\'s amazing! Angular is such a powerful framework. Are you using any specific UI libraries?',\n          timestamp: new Date(Date.now() - 1800000),\n          type: 'text'\n        }\n      ],\n      unreadCount: 1\n    },\n    {\n      id: 'room-2',\n      name: 'Development Team',\n      type: 'group',\n      avatar: 'https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      participants: [this.currentUser, this.users[1], this.users[2], this.users[4]],\n      messages: [\n        {\n          id: 'msg-6',\n          senderId: 'user-2',\n          content: 'Good morning team! Ready for today\\'s sprint planning?',\n          timestamp: new Date(Date.now() - 7200000),\n          type: 'text'\n        },\n        {\n          id: 'msg-7',\n          senderId: 'user-3',\n          content: 'Absolutely! I\\'ve prepared the user stories for review.',\n          timestamp: new Date(Date.now() - 7100000),\n          type: 'text'\n        },\n        {\n          id: 'msg-8',\n          senderId: 'user-5',\n          content: 'Great! I\\'ll share the technical requirements document in a few minutes.',\n          timestamp: new Date(Date.now() - 7000000),\n          type: 'text'\n        },\n        {\n          id: 'msg-9',\n          senderId: 'user-1',\n          content: 'Perfect timing! I just finished the mockups for the new features.',\n          timestamp: new Date(Date.now() - 6900000),\n          type: 'text'\n        }\n      ],\n      unreadCount: 0\n    },\n    {\n      id: 'room-3',\n      name: 'Bob Smith',\n      type: 'direct',\n      participants: [this.currentUser, this.users[2]],\n      messages: [\n        {\n          id: 'msg-10',\n          senderId: 'user-3',\n          content: 'Hey, do you have a moment to discuss the API integration?',\n          timestamp: new Date(Date.now() - 5400000),\n          type: 'text'\n        },\n        {\n          id: 'msg-11',\n          senderId: 'user-1',\n          content: 'Of course! What specific part are you working on?',\n          timestamp: new Date(Date.now() - 5300000),\n          type: 'text'\n        },\n        {\n          id: 'msg-12',\n          senderId: 'user-3',\n          content: 'I\\'m having some issues with the authentication flow. The tokens seem to expire too quickly.',\n          timestamp: new Date(Date.now() - 5200000),\n          type: 'text'\n        }\n      ],\n      unreadCount: 0\n    },\n    {\n      id: 'room-4',\n      name: 'Design Team',\n      type: 'group',\n      avatar: 'https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=1',\n      participants: [this.currentUser, this.users[3], this.users[5]],\n      messages: [\n        {\n          id: 'msg-13',\n          senderId: 'user-4',\n          content: 'I love the new color scheme we decided on!',\n          timestamp: new Date(Date.now() - 4800000),\n          type: 'text'\n        },\n        {\n          id: 'msg-14',\n          senderId: 'user-6',\n          content: 'Yes! The gradient backgrounds really make the interface pop.',\n          timestamp: new Date(Date.now() - 4700000),\n          type: 'text'\n        },\n        {\n          id: 'msg-15',\n          senderId: 'user-1',\n          content: 'I agree! The user feedback has been overwhelmingly positive.',\n          timestamp: new Date(Date.now() - 4600000),\n          type: 'text'\n        }\n      ],\n      unreadCount: 2\n    },\n    {\n      id: 'room-5',\n      name: 'Emma Brown',\n      type: 'direct',\n      participants: [this.currentUser, this.users[5]],\n      messages: [\n        {\n          id: 'msg-16',\n          senderId: 'user-6',\n          content: 'Thanks for helping me with the CSS animations yesterday!',\n          timestamp: new Date(Date.now() - 2400000),\n          type: 'text'\n        },\n        {\n          id: 'msg-17',\n          senderId: 'user-1',\n          content: 'You\\'re welcome! The final result looks fantastic.',\n          timestamp: new Date(Date.now() - 2300000),\n          type: 'text'\n        },\n        {\n          id: 'msg-18',\n          senderId: 'user-6',\n          content: 'I learned so much about keyframes and transitions. Can\\'t wait to apply this knowledge to more projects!',\n          timestamp: new Date(Date.now() - 900000),\n          type: 'text'\n        }\n      ],\n      unreadCount: 0\n    }\n  ];\n\n  private chatRoomsSubject = new BehaviorSubject<ChatRoom[]>(this.chatRooms);\n  private activeRoomSubject = new BehaviorSubject<ChatRoom | null>(this.chatRooms[0]);\n  private typingIndicatorSubject = new BehaviorSubject<TypingIndicator[]>([]);\n\n  constructor() {\n    // Update last messages for each room\n    this.updateLastMessages();\n  }\n\n  getChatRooms(): Observable<ChatRoom[]> {\n    return this.chatRoomsSubject.asObservable();\n  }\n\n  getActiveRoom(): Observable<ChatRoom | null> {\n    return this.activeRoomSubject.asObservable();\n  }\n\n  getTypingIndicators(): Observable<TypingIndicator[]> {\n    return this.typingIndicatorSubject.asObservable();\n  }\n\n  getCurrentUser(): User {\n    return this.currentUser;\n  }\n\n  setActiveRoom(roomId: string): void {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (room) {\n      // Mark messages as read\n      room.unreadCount = 0;\n      this.activeRoomSubject.next(room);\n      this.chatRoomsSubject.next([...this.chatRooms]);\n    }\n  }\n\n  sendMessage(roomId: string, content: string): void {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (room && content.trim()) {\n      const newMessage: Message = {\n        id: `msg-${Date.now()}`,\n        senderId: this.currentUser.id,\n        content: content.trim(),\n        timestamp: new Date(),\n        type: 'text'\n      };\n\n      room.messages.push(newMessage);\n      room.lastMessage = newMessage;\n      \n      // Simulate response from other users (randomly)\n      if (Math.random() > 0.3) {\n        setTimeout(() => {\n          this.simulateResponse(roomId);\n        }, 1000 + Math.random() * 3000);\n      }\n\n      this.chatRoomsSubject.next([...this.chatRooms]);\n      this.activeRoomSubject.next(room);\n    }\n  }\n\n  private simulateResponse(roomId: string): void {\n    const room = this.chatRooms.find(r => r.id === roomId);\n    if (!room) return;\n\n    const otherParticipants = room.participants.filter(p => p.id !== this.currentUser.id);\n    if (otherParticipants.length === 0) return;\n\n    const randomParticipant = otherParticipants[Math.floor(Math.random() * otherParticipants.length)];\n    \n    const responses = [\n      \"That's interesting!\",\n      \"I see what you mean.\",\n      \"Thanks for sharing that.\",\n      \"Good point!\",\n      \"I agree with you.\",\n      \"Let me think about that.\",\n      \"That makes sense.\",\n      \"I'll look into it.\",\n      \"Great idea!\",\n      \"Sounds good to me.\"\n    ];\n\n    const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n\n    const responseMessage: Message = {\n      id: `msg-${Date.now()}-response`,\n      senderId: randomParticipant.id,\n      content: randomResponse,\n      timestamp: new Date(),\n      type: 'text'\n    };\n\n    room.messages.push(responseMessage);\n    room.lastMessage = responseMessage;\n\n    // Add unread count if not in active room\n    const activeRoom = this.activeRoomSubject.value;\n    if (!activeRoom || activeRoom.id !== roomId) {\n      room.unreadCount++;\n    }\n\n    this.chatRoomsSubject.next([...this.chatRooms]);\n    \n    // Update active room if it's the same room\n    if (activeRoom && activeRoom.id === roomId) {\n      this.activeRoomSubject.next(room);\n    }\n  }\n\n  private updateLastMessages(): void {\n    this.chatRooms.forEach(room => {\n      if (room.messages.length > 0) {\n        room.lastMessage = room.messages[room.messages.length - 1];\n      }\n    });\n  }\n\n  getUserById(userId: string): User | undefined {\n    return this.users.find(user => user.id === userId);\n  }\n\n  startTyping(roomId: string): void {\n    // Simulate typing indicator (in a real app, this would be sent to other users)\n    const indicators = this.typingIndicatorSubject.value;\n    const existingIndicator = indicators.find(i => i.roomId === roomId && i.userId === this.currentUser.id);\n    \n    if (!existingIndicator) {\n      const newIndicator: TypingIndicator = {\n        roomId,\n        userId: this.currentUser.id,\n        userName: this.currentUser.name\n      };\n      this.typingIndicatorSubject.next([...indicators, newIndicator]);\n    }\n  }\n\n  stopTyping(roomId: string): void {\n    const indicators = this.typingIndicatorSubject.value;\n    const filteredIndicators = indicators.filter(i => !(i.roomId === roomId && i.userId === this.currentUser.id));\n    this.typingIndicatorSubject.next(filteredIndicators);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}